<html>
<head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        var graphLength = 120;
        var graphDist = 15;
        var hAxisTicks = [];
        var getNewDataSet = function (timeEpoch) {
            var _211 = Math.floor(Math.random() * 20) + 20;
            var _212 = Math.floor(Math.random() * 20) + 30;
            var _213 = Math.floor(Math.random() * 20) + 40;
            var _214 = Math.floor(Math.random() * 20) + 50;
            var _215 = Math.floor(Math.random() * 20) + 60;
            var _216 = Math.floor(Math.random() * 20) + 70;
            var date;
            var time;
            if(typeof timeEpoch === 'undefined') {
                date  = new Date();
            } else {
                date  = new Date(timeEpoch);
            }
            time = [date.getHours(), date.getMinutes(), date.getSeconds()];
            if( date.getSeconds() % graphDist === 0) {
                hAxisTicks.push(time);
                return [time, _211, _212, _213, _214, _215, _216];
            }
            return [time, _211, _212, _213, _214, _215, _216];
        };
        var createDataSet = function () {
            var data = [];
            var epochTime = new Date().getTime() - (graphLength * 1000) + 1000;
            for (var i = 0; i < graphLength; i++, epochTime += 1000) {
                var dataSet = getNewDataSet(epochTime);
                data.push(dataSet);
            }
            return data;
        };

        var drawChart = function() {
            var addingFlag = true;
            var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));
            var data = new google.visualization.DataTable();
            data.addColumn('timeofday', 'Time');
            data.addColumn('number', '211');
            data.addColumn('number', '212');
            data.addColumn('number', '213');
            data.addColumn('number', '214');
            data.addColumn('number', '215');
            data.addColumn('number', '216');
            data.addRows(createDataSet());
            var getOptions = function (){
                return {
                    title: 'Company Performance',
                    curveType: 'function',
                    hAxis: {
                        ticks: hAxisTicks
                    },
                    legend: { position: 'bottom' },
                    animation:{
                        duration: 500,
                        easing: 'in'
                    }
                }

            };

            google.visualization.events.addListener(chart, 'ready',
                function() {
                    if(addingFlag) {
                        setTimeout(function () {
                            var dataSet = getNewDataSet();
                            data.addRow(getNewDataSet());
                            addingFlag = !addingFlag;
                            chart.draw(data, getOptions());
                        },1000);
                    } else {
                        setTimeout(function () {
                            if(data.getValue(120, 0)[2] % 15 === 0){
                                hAxisTicks.shift();
                            }
                            data.removeRow(0)
                            addingFlag = !addingFlag;
                            chart.draw(data, getOptions());
                        },1);
                    }
                });
            chart.draw(data, getOptions());
        };
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawChart);
    </script>
</head>
<body>
<div id="curve_chart" style="height: 500px"></div>
</body>
</html>